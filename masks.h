#pragma once
#include <vector>
#include <iostream>


// 二次元ベクトル
template <typename T>
using vec2 = std::vector<std::vector<T>>;



class masks {
public:
    vec2<unsigned char> vec2OR(const vec2<unsigned char>& input1, const vec2<unsigned char>& input2) {
        vec2<unsigned char> output;

        // Ensure the input dimensions match
        if (input1.size() != input2.size() || input1[0].size() != input2[0].size()) {
            throw std::invalid_argument("Input dimensions do not match");
        }

        size_t rows = input1.size();
        size_t cols = input1[0].size();

        // Resize output to match input dimensions
        output.resize(rows);
        for (size_t i = 0; i < rows; ++i) {
            output[i].resize(cols);
        }

        // Perform OR operation
        for (size_t i = 0; i < rows; ++i) {
            for (size_t j = 0; j < cols; ++j) {
                output[i][j] = input1[i][j] | input2[i][j];
            }
        }
        return output;
    }



    std::vector<std::vector<unsigned char>> outer0 = {
        {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0},//1
        {0,0,0,1,1,0,0,0,0,0,1,1,0,0,0},//2
        {0,0,1,0,0,0,0,0,0,0,0,0,1,0,0},//3
        {0,1,0,0,0,0,0,0,0,0,0,0,0,1,0},//4
        {0,1,0,0,0,0,0,0,0,0,0,0,0,1,0},//5
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},// 6 same
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},// 7 same
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},// 8 center -----
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},// 9 same
        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},//10 same
        {0,1,0,0,0,0,0,0,0,0,0,0,0,1,0},//5
        {0,1,0,0,0,0,0,0,0,0,0,0,0,1,0},//4
        {0,0,1,0,0,0,0,0,0,0,0,0,1,0,0},//3
        {0,0,0,1,1,0,0,0,0,0,1,1,0,0,0},//2
        {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0} //1
    };

    void o0t(int idx, int& ir, int& ic) {
        std::vector<int> idrow = { 7,  6,  5,  4,  3,  2,  1,  1, 0, 0, 0, 0, 0, 1, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 13, 14, 14, 14, 14, 14, 13, 13, 12, 11, 10,  9,  8 };
        std::vector<int> idcol = { 14, 14, 14, 13, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0,  1,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 13, 14, 14 };

        if (idx < 0) {
            idx %= 40; // -41などを- 1などと等しくする
            idx += 40; // - 1などを+39などと等しくする
        }
        if (0 < idx) {
            idx %= 40; // 41などを 1などと等しくする
        }

        ir = idrow[idx];
        ic = idcol[idx];
        ////for (int iii = 0; iii < 40; iii++)  printf("%d ", mk[0][idrow[iii]][idcol[iii]]);
    }

    std::vector<std::vector<unsigned char>> outer1 = {
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 1 all zero
        {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0},// 2
        {0,0,0,1,1,0,0,0,0,0,1,1,0,0,0},// 3
        {0,0,1,0,0,0,0,0,0,0,0,0,1,0,0},// 4
        {0,0,1,0,0,0,0,0,0,0,0,0,1,0,0},// 5
        {0,1,0,0,0,0,0,0,0,0,0,0,0,1,0},// 6 same
        {0,1,0,0,0,0,0,0,0,0,0,0,0,1,0},// 7 same
        {0,1,0,0,0,0,0,0,0,0,0,0,0,1,0},// 8 center -----
        {0,1,0,0,0,0,0,0,0,0,0,0,0,1,0},// 9 same
        {0,1,0,0,0,0,0,0,0,0,0,0,0,1,0},//10 same
        {0,0,1,0,0,0,0,0,0,0,0,0,1,0,0},// 5
        {0,0,1,0,0,0,0,0,0,0,0,0,1,0,0},// 4
        {0,0,0,1,1,0,0,0,0,0,1,1,0,0,0},// 3
        {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0},// 2
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0} // 1 all zero
    };
    std::vector<std::vector<unsigned char>> outer2 = {
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 1 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 2 all zero
        {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0},// 3
        {0,0,0,1,1,0,0,0,0,0,1,1,0,0,0},// 4
        {0,0,0,1,0,0,0,0,0,0,0,1,0,0,0},// 5
        {0,0,1,0,0,0,0,0,0,0,0,0,1,0,0},// 6 same
        {0,0,1,0,0,0,0,0,0,0,0,0,1,0,0},// 7 same
        {0,0,1,0,0,0,0,0,0,0,0,0,1,0,0},// 8 center -----
        {0,0,1,0,0,0,0,0,0,0,0,0,1,0,0},// 9 same
        {0,0,1,0,0,0,0,0,0,0,0,0,1,0,0},//10 same
        {0,0,0,1,0,0,0,0,0,0,0,1,0,0,0},// 5
        {0,0,0,1,1,0,0,0,0,0,1,1,0,0,0},// 4
        {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0},// 3
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 2 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0} // 1 all zero
    };
    std::vector<std::vector<unsigned char>> outer3 = {
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 1 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 2 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 3 all zero
        {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0},// 4
        {0,0,0,0,1,0,0,0,0,0,1,0,0,0,0},// 5
        {0,0,0,1,0,0,0,0,0,0,0,1,0,0,0},// 6 same
        {0,0,0,1,0,0,0,0,0,0,0,1,0,0,0},// 7 same
        {0,0,0,1,0,0,0,0,0,0,0,1,0,0,0},// 8 center -----
        {0,0,0,1,0,0,0,0,0,0,0,1,0,0,0},// 9 same
        {0,0,0,1,0,0,0,0,0,0,0,1,0,0,0},//10 same
        {0,0,0,0,1,0,0,0,0,0,1,0,0,0,0},// 5
        {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0},// 4
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 3 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 2 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0} // 1 all zero
    };
    std::vector<std::vector<unsigned char>> outer4 = {
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 1 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 2 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 3 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 4 all zero
        {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0},// 5
        {0,0,0,0,1,1,0,0,0,1,1,0,0,0,0},// 6 
        {0,0,0,0,1,0,0,0,0,0,1,0,0,0,0},// 7 same
        {0,0,0,0,1,0,0,0,0,0,1,0,0,0,0},// 8 center -----
        {0,0,0,0,1,0,0,0,0,0,1,0,0,0,0},// 9 same
        {0,0,0,0,1,1,0,0,0,1,1,0,0,0,0},// 6 
        {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0},// 5
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 4 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 3 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 2 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0} // 1 all zero
    };
    std::vector<std::vector<unsigned char>> outer5 = {
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 1 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 2 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 3 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 4 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 5 all zero
        {0,0,0,0,0,0,1,1,1,0,0,0,0,0,0},// 6 
        {0,0,0,0,0,1,0,0,0,1,0,0,0,0,0},// 7 same
        {0,0,0,0,0,1,0,0,0,1,0,0,0,0,0},// 8 center -----
        {0,0,0,0,0,1,0,0,0,1,0,0,0,0,0},// 7 same
        {0,0,0,0,0,0,1,1,1,0,0,0,0,0,0},// 6 
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 5 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 4 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 3 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 2 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0} // 1 all zero
    };
    std::vector<std::vector<unsigned char>> outer6 = {
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 1 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 2 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 3 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 4 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 5 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 6 all zero
        {0,0,0,0,0,0,1,1,1,0,0,0,0,0,0},// 7 same
        {0,0,0,0,0,0,1,1,1,0,0,0,0,0,0},// 8 center -----
        {0,0,0,0,0,0,1,1,1,0,0,0,0,0,0},// 7 same
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 6 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 5 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 4 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 3 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},// 2 all zero
        {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0} // 1 all zero
    };
};